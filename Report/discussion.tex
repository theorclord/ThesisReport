\section{Discussion}
\subsection{Basic design choices} 
\subsubsection{Flavour text combinations}
Early on we knew that we would have to have the flavour text and events being shown to the players. Showing it to the player required generating connected strings in some form that could relate to what was happening in game terms.. 
Then the question ahead was: How would this be done?
We started by having fully formed lines of text for every possible outcome and event, but realized that this was not beneficial, and that it would not create enough diversity to work as a proof of concept. 
The initial fully formed event text were rigid and would not scale well with the implementation of more pieces or with new combinations. Each time a new piece would be added, or a piece removed, would require new events to be fully written to account for the change. 

All the text strings needed to be broken down into bits and pieces that would somehow connect with each other and combine into one fully functional sentence. 
There was more than one way to approach this problem.
First way was to create smaller pieces of text, that would show their meaning, but not really combine into a well formulated sentence. This was tested out for a while, but was not the optimum solution we wanted for our product.
The next way was to generate a premade set of combinations for the events. This would mean that every possible combination that was "wanted" in the game, would have to be made ahead of time. And with every option, there would have to be rewards and outcomes for each. Again for each outcome, there would have to be at least one for "success", one for "Neutral" and one for "Enemy". With all these pieces that had to be premade, the realization was that it was sort of the right way, but that it should be the other way around. The way to go would be to generate smaller blocks of text for all outcome and option pieces, and then have extra flavour that would tie it all together. This meant a drastic reduction in how much flavour would have to be premade, and the possible combinations would be far greater. 


\subsubsection{Option combinations}

There are a multitude of ways to come up with a way to combine the options the players will have. Some that were touched will be discussed here.
The first way is to have a random selection. This would mean to just have a collection of all the possible requirements that would constitute an option, and having a number of them be selected at random.\\
Some good things about this, is that it reduces the need for expensive and complex computing, as it only requires a simple random value to be chosen. This can of course also be influenced by a seed or a bias counter leaning towards a specific option, however then it would not be completely random either.\\
The fact that it is so simplistic and random, means that several things can go wrong. The same option can be selected multiple times, there may not be enough options to choose from so that the options might not be diverse enough, and the overall feel that the options are based on anything might get lost by the overwhelming randomness, just to mention some.\\

Another way to generate the options is to have selection based on the location. That is locations as in the types of locations i.e. a mine, forest, lake, etc. Then the question becomes what can each of the locations hold? A mine might be rich in minerals, metals and rocks, while a forest can have different plant life and a lake can have hidden treasures in its depths. These are all thoughts that needs to be figured out for this setup to work. And if this is to be the chosen method for generating the event options, how many different possibilities are needed for each location, and then how many variations of each possibility is needed? The resulting collection can quickly become very large. 
That is not necessarily a bad thing, though. Having a large base of possible options is, in this game setting, a good thing. Lots of options means lots of variety. But then comes the issue which is the flavor. To be able to present the options to the players, there needs to be a substantial amount of flavor to go with the options. If not, then having this assortment, will quickly become obsolete and bland.\\

Basing the condition options on the factions can be an interesting way of generating them, because it opens up the possibility of lore behind each of the factions. To take one example from our game, the "Highbournes". The highbournes are made to be like elves. High and mighty with much knowledge about the nature and stars, and generally elves have a well known story attached to them. By using known types of mythical beings, one can get a good start and overview of where to begin. By looking into already existing books and stories about these creatures, one can get ideas and inspiration to what can be implemented in the solution. Elves might have high knowledge of potions and healing, so that would mean that a possible option could be to help them out with new recipes, materials that are foreign to them, or just introduce them to "modern" technology.
However, can you cross the border between known lore and made up new lore? Does it break the feeling of familiarity?
Yes, you can. It would be weird if in "The Lord of the Rings" (J. R. R. Tolkien, 1937-1949) you would see an Elf using a machine gun.
But then again, who is to say that new lore and new creatures can not be made. It is just important to make it clear that this is what is happening in that case.\\

While on the topic of factions, another idea on how to combine the options would be to use the standing the players have with each faction. It is closely based on the factions and their lore, as described above, but when taking a relationship into account, things can get different and interesting. Using the Highbournes as example again, if the players have a good standing with them, i.e. friendly, the options might be different from what they could be if they were enemies. A friend might want to lend out some resources, have their available people assist them in tasks and quest, whilst an enemy would perhaps steal resources from them, or destroy their buildings or kill their people. The differences are immense. Taking the relationship to each faction into account opens up for a different way of telling the story of the game to the players, and it also allows for drastic changes to be made. This is something that must be considered when thinking about how the game should look and feel. In this case, the feel should be more the one of exploration of unknown islands and locations, and the creatures living there are there, not necessarily for the lore itself, but more as an extra asset that the players hopefully can relate to. The factions might have wars against themselves, and they might see you, the outsiders, roaming around with mystical potions and weird machinery. If a war or battle is going on between two factions, would the players want to assist? Or just let them be? These are all thoughts that needs to be taken into consideration when basing options on factions and the players standing with them.\\


Selection based on previous events
One of the nicer things when combining a board game with a digital application, is the fact that there suddenly is access to memory. And with memory, comes alternatives and opportunities. A thought that instantly comes to mind, is basing later events and options on what has previously happened in the game. One can use statistics to see which options is more likely to be chosen, and build new ones of similar sort, or one could go the complete other way, and force the players to be more diverse and have them pick between options that they have been less likely to choose in the past. Finding patterns and frequent choices can be an option and a tool in designing new options. But using this method, requires that the text and feel of the options are coherent. If they don't make sense, the feel of the game can suffer from it. So going in this direction will take a lot of thought as to how everything should be formulated in order for it to be presented in a good way to the players. A thought on how to proceed in this direction, is to have building blocks, that are somewhat loosely based on the possible standings a player can have with each faction, then making sure that each of those blocks have some sort of meaning to both the faction and the game story itself. Making sure that they can all be combined with each other and persistently keeping in mind all the conditions, would be key in this approach.\\

As mentioned before having saved data is a big asset to a game, board games specifically. Saving up all the data of what has previously happened makes it possible to create new content that is taking into account what has previously happened. In a game like this, one could base the next options and outcomes on what the players have gotten during the events and actions leading up this far. If the players have been taking the easy option all the way, maybe it is time to challenge them and take away the possibility for an easy action. Maybe all the outcomes they have gotten so far has been negative? Having access to the saved data, and also "when" the results occurred, can be a valuable asset, as it gives the opportunity to change the entire course of the game. It makes it possible to have adaptive difficulties, and one can also give the players the option to select and change difficulty on the go. Combining the options based on the previous results, can be tricky, however, if the options and the results do need to be directly linked to what has happened before, one has to take into account that it is not only the values that are presented to the players, but also the flavor texts. And the flavor text is what allows the players to become part of the "world" that is the setting in the game itself. If there are major incoherences, the feeling of a polished experience can easily be broken. If going for this way of generating content, this fact must be in the back of the head. It can definitely be used as a way of generating the content, but there might need to be a secondary check whether or not the texting of the options and results are working and fitting. Grammars and the ordering of the words will be an important aspect when combining the generated contents into a finalized product.\\

Earlier there was a mention of changing the difficulty in the middle of the game. Another way of making the options, would be to do this difficulty change gradually as the players progress. Starting off easy, and then getting harder and harder. Or the other way around, easier and easier, if that is preferable. If this is what is wanted, there has to be some sort of scale that shows what constitutes hard, medium and easy. When this is established, the algorithms can be made into generating the content on a declining or increasing scale. How much is going to be changed, and how much it will be modified each turn, is then up to the scaling system itself, or the players, if they are given the possibility to set this themselves.\\

While on the topic of gradually changing the content, another way that comes up, is to increase the costs and rewards based on stages.
Each stage could be a finite amount of turns, or a stage can change to the next one when a certain threshold has been reached, be it turns, resources gained, resources lost, etc.\\\\


The ways described above are singular ways of generating the options, however in a complete solution of the problem, one might want to combine two or more of these ways. 
We are using a combination of basing the options based on the location, as well as factions. Some of the events, i.e. the special events, are based on location, factions and standing. They get all this information from the previous events that has occurred, and by utilizing the memory of the application, it is able to give the players a "shock factor" that would not be possible with a traditional board game. Containing the information that has happened before, opens up the possibility to startle the players with new content based on previous events. 
By mixing in an element of randomness into the mixture, it is possible to change the entire feel of an event, as the values might be slightly out of context, but still enough in context that it can be made sense of. All these mixtures is what makes it possible for multiple ways of handling the events. And by creating the options for each event as soon as the players enter them, it is possible to create varied outcomes as well. Each option can have an outcome based on how it is formulated, and by having this, the events can become very different and the range of which they impact the players is potentially increased. 
If the events are gradually changing, then the memory part can be a big influence. It allows the application to "know" where in a game session it is, and from there, it can utilize different algorithms to change the difficulty, range of options and impact on the outcomes, that each event has. This can create a feeling of progression for the players, and make the feel of the game more consistent and make it feel like the game has more of a purpose to it.

\subsubsection{Layout of the map}
During development of the application, there was a discussion whether to use a pcg-algorithm in order to create the map, or to manually create it and have it saved. The conclusion was to use the L-System in order to be able to quickly generate maps, as having more than one map would give the players more replayability and diversity, and by using an L-System there was the possibility to mutate the rules of generation, and have a constantly changing layout. By changing the values such as the spreading angle of the island placement, the map would be different in looks, and by changing the number of iterations of expansion of the axiom, the map would become bigger or smaller. Then by introducing a random value for the angle and distancing of the islands, the maps could have a layout that would never look the same, and that would have a variation of turns and angles and distances from one island to another. However, by doing this, the calculation time for the L-System could become very large, and that could also ruin the player's interest for the game. So by compromising and rather create a multitude of different pre-set patterns, the execution time can easily be managed to be within the time frame that is required, and it allows for more controlled diversity within the layouts of the map.\\

A rather substantial problem with the L-System, is that it can become very large, very fast. This means that it can reduce the quality of the application, and consume too much of the resources of the device the application is running on. If the system is too big, and taking up too much resources, it can potentially freeze the system, and overheat the device. This is of course not a preferred scenario, and so it is better to have a controlled environment where construction of the rules and axioms of the different layouts to be produced by the system can be monitored and managed.\\

Our solution has a total of seven different and diverse map layouts, that are available within the code, however, for the sake of managing and testing the game and making sure the produced results and gameplay is coherent, only one of them will be used. This decision was made, because the need for some continuity was needed in order to make sure that all the aspects of the game; the flow, the board, the events, user interaction, etc. all were working as they should. 
Some of the other maps were smaller, with fewer possible destinations and events, and so they could be suited for a tutorial if that is desired. But for a full game, the need for a bigger map layout with all the islands in a set location is outweighing the need for diversity and changeable maps.


\subsubsection{Board layout}
\subsubsection{Tokens and rooms}
\subsubsection{Story}
\subsubsection{Theme}
There was a lot of different themes going around during construction of the project. The initial thought was Space and something in the lines of FTL: Faster Than Light. 
Other themes that came up were "Western Caravan" in a sort of "Mad Max" setting, "Pirates at sea" travelling from islands to islands, and plundering what they could find, "Magical Flying Castle" that would fly through a vast world of floating islands with unexplored areas of varying types and locations.
The last one was chosen. The reason for this choice, is that it gives us a feeling of familiarity, as it is in a fantasy setting, and most people are familiar with some sort of fantasy story, whether it is "The Lord of the Rings", "The Chronicles of Narnia" or other fantasy stories. Most games that are in this genre and has creatures or factions, usually have a connected base that is the basis for all fantasy. Usually it contains Orcs, Elves, Dwarves, etc. and this gives players an easier acceptance level of the feel of the overall game story.

\subsubsection{Gameplay}
\subsubsection{Connection between Board and App}


\subsection{Collaborative game} 
\subsection{The 2 phases of the game}
\subsection{A management-game}
\subsection{The result of the game}
\subsection{Future work}
In this part, we will discuss what possible work could be done in the future. What we would like to implement, thought on how to do that, and what could have been done differently in order to make this easier in the future.
\subsubsection{Better use of saved data}
\label{sec:savdat}
One of the big impacts this project brought to light, was the use of saved events and its data to generate new events that were based on those. In this solution, we save the events that happen over the course of the game, and we use them in a rather minimalistic way, more as a proof of concept. However, it would be interesting to see how this data could be used more efficiently over an entire game session. Generating more experience driven content, that would have a bigger impact on the players' experience, by creating other mechanics in the game, is one thought that comes to mind. 

The saved data could be used in ways which a board game could never compete. One could use the saved data to challenge the players either more or less, by knowing the amount of resources they have collected, and tailoring the possibilities from that knowledge. In this way the game would either challenge the players to use their resources wisely or give them access to a resource which has been sparse in the previous events. 

The special events could really play to what the players had been doing, in terms of were and for who, giving the players a greater feel of involvement in the world. This could be shown with some sort of faction overlay, which could change each time you dealt with the different factions. It could be possible to have some sort of background faction warfare with variables being influenced by how the players interact with the game.

Also a story could be brewed by linking all the outcomes of the events. In the end building a short story based on the players events. Using a text algorithm of sorts to create a story based on the factions relationships and the deals made at each point of interest. 

By using the current layout, one could even imagine that the app could piece together the state of the board game, using the input from the events. Whenever the players resolves the events, they declare, indirectly the tells the app how they have used their resources. Saving this could help to give a more complete look of how the players are doing and surprise the players by revealing to them in events that the app knows what they have built.

In the end the saved data could be used in many ways to give the players a feeling of a game which reacts to their input, even without them having directly to manipulate the app with the results and state of their board.

\subsubsection{More options and outcomes}
At this point in time, there are a finite number of possible outcome types, rewards and penalties. For a future version of the game, it would be interesting to see how the game would be experienced if there were more types of tokens to be played around with. It would also be nice to have more flavour text pieces that could be combined, maybe in a new way, and presented to the players. 

Right now the system is capable of combining the different parts of the game and generate events with flavour text, using combination of the board pieces and flavour text strings.
The system is built such that more pieces could be added, along with flavour text bits for each of them, and still generate meaningful events. 

However, there is right now around 3-7 text strings for each of the board pieces, all of which can be combined which each other. This could of course be increased, but it would also be interesting to generate text which is capable of having some sort of interrelation between the pieces. 
This could perhaps be accomplished using some sort of grammar such as the L-systems, which could take the current text being built and use it to create a better interrelation. 
The grammar could as an example relate Alchemy points to Castle crew and base the flavour text on some sort of potions to improve the crew, or relate the alchemical potency to how it improves the machinery used in a specific event. 
Having this relation brings the game more to life and makes the players feel more immersed in the experience.

In the end, having more pieces, variety of flavour, and ways of combining the flavour, would be like creating an expansion pack of cards that would be added to the physical board game.

\subsubsection{Additional features based on the map}
The current map layout generates a larger structure of floating islands which you can visit in no particular order. The map contains floating islands each with events tied to it and different locations available.

However the map is an unused canvas which could have more features to better engage the players in moving around on the map. 
There could be included places of interest, where special quest could be implemented. A chain of quest linked in creating a short story or other sub-plots. 
As said above in section \ref{sec:savdat}, there is also a possibility of having factional warfare, using the saved events. This could both be displayed and engaged directly on the map. 
Timed events could appear based on factional changes and the events which have been resolved by the players. The events could appear on the map in a small vicinity of the player location. This would engage the players in checking out how the map situation is unfolding. 

Another way to increase the exploration is to hide the end goal. Then perhaps revealing the goal through a quest chain or through some sort of cost of materials. The general direction of the goal could be known to the player, but you have to either complete some quest or guess where the goal were through hints given throughout the game.

The chain quest could be one which spawns the goal once all the quest are completed. Having the players creating a portal to take them home after the quest is done.
\subsubsection{Other potential mechanics}

\subsection{PCG contribution and it's benefits}
What the PCG part did for this project, was to remove the need for the physical part of the game to have cards, map-board, a pre-written explanation on how to set up the map locations, and it removed the need for dice rolls. This being a collaborative game, the focus of the players needed to be more on each other and the "story" of the game, rather than having to focus on reading from a piece of paper each turn, each time one rolls a die, and each time a card would be picked and had to be combined.

One of the biggest ways tht PCG has contributed to the game, is the fact that it gives the game access to memory. This means that the game can suddenly surprise the players by presenting a newly generated event, that is based on occurrences that happened maybe 15 turns ago. Unless the players have a book to write down every little detail of the story as the game unfolds, this would not be a very likely scenario without PCG. 
Having memory also opens up for the possibility of hiding information from players. Take the faction system for example: most of the information is hidden, and the only thing the players see is the little dialog box that pops up when a faction's allegiance has been changed from one to another. This means that the only information the players have available is their current standing with the factions, and they will have to remember it themselves, as there is currently no way to see the current standing with any given faction, except for when said faction standing is changed. 


\subsection{App vs. boardgame design challenges}
\subsection{Benefits of having memory in the app}
\subsection{Possible alternatives to our solution}
One of the most obvious alternatives to our solution, is to create a complete board game, or a complete digital game, instead of using both as a hybrid. 

\subsection{Team Dynamics}





